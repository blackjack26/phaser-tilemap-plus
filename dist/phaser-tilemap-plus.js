!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=2)}([function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(e,n){r(this,t),this.x=e||0,this.y=n||0}return i(t,[{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"equals",value:function(t){return t&&this.x===t.x&&this.y===t.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"normalized",value:function(){var e=this.length();return 0===e?new t(0,0):new t(this.x/e,this.y/e)}},{key:"perpendicular",value:function(){return new t(-this.y,this.x)}},{key:"rotated",value:function(e){var n=Math.cos(e),r=Math.sin(e);return new t(n*this.x+r*this.y,-r*this.x+n*this.y)}},{key:"plus",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"minus",value:function(e){return new t(this.x-e.x,this.y-e.y)}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"perpDot",value:function(t){return this.x*t.y-this.y*t.x}},{key:"scale",value:function(e){return new t(this.x*e,this.y*e)}}]),t}();e.default=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){r(this,t),this.makeEmpty()}return i(t,[{key:"extendTo",value:function(t){this.min>t&&(this.min=t),this.max<t&&(this.max=t)}},{key:"containsPoint",value:function(t){return this.min<=t&&t<=this.max}},{key:"containsRange",value:function(t){return this.min<=t.min&&this.max>t.max}},{key:"isEmpty",value:function(){return this.min>this.max}},{key:"makeEmpty",value:function(){this.min=Number.POSITIVE_INFINITY,this.max=Number.NEGATIVE_INFINITY}},{key:"length",value:function(){return this.min>this.max?Number.NaN:this.max-this.min}}],[{key:"intersection",value:function(e,n){var r=new t;return r.min=Math.max(e.min,n.min),r.max=Math.min(e.max,n.max),r.min>r.max&&r.makeEmpty(),r}},{key:"bound",value:function(e,n){var r=new t;return r.min=Math.min(e.min,n.min),r.max=Math.max(e.max,n.max),r}}]),t}();e.default=a},function(t,e,n){"use strict";var r=n(3),i=function(t){return t&&t.__esModule?t:{default:t}}(r);Phaser.Plugin.TilemapPlus=function(t,e){function n(t){return t+"-TilemapPlus"}Phaser.Plugin.call(this,t,e);var r=Phaser.Loader.prototype.tilemap;Phaser.Loader.prototype.tilemap=function(t,e,i,a){r.call(this,t,e,i,a),this.json(n(t),e)};var a=Phaser.GameObjectFactory.prototype.tilemap;Phaser.GameObjectFactory.prototype.tilemap=function(t,e,r,o,u){var l=a.call(this,t,e,r,o,u),f=this.game.cache.getJSON(n(t));return l.plus=new i.default(f,this.game.time,l),l};var o=Phaser.GameObjectFactory.prototype.sprite;Phaser.GameObjectFactory.prototype.sprite=function(t,e,n,r,i){var a=o.call(this,t,e,n,r,i);return a.plus={},a}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=n(4),o=r(a),u=n(5),l=r(u),f=function t(e,n,r){i(this,t),this.tilemapJson=e,this.time=n,this.tilemap=r,this.timer=null,this.tileAnimations=[],this.game=n.game,this.animation=new o.default(e,n,r),this.physics=new l.default(e)};e.default=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=t.tiles;if(e){var n=!0,r=!1,i=void 0;try{for(var o,u=Object.keys(e)[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var l=o.value,f=e[l],s=f.animation;s&&s.length>0&&a.bind(this)(t,l,s)}}catch(t){r=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}}}function a(t,e,n){var r=n.map(function(t){return t.tileid}),i=n.find(function(){return!0}).duration,a=this.tilemap.tilesets.find(function(e){return e.name===t.name}),o={tiles:r,frameInterval:i,tileset:a,tileLocations:u.bind(this)(a.firstgid+parseInt(e)),currentFrame:0};this.tileAnimations.push(o)}function o(){var t=this.time.now,e=!1,n=!0,r=!1,i=void 0;try{for(var a,o=this.tileAnimations[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value,l=u.tiles,f=u.frameInterval,s=u.tileset,c=u.tileLocations,h=u.currentFrame,y=Math.floor(t/f)%l.length;if(y!=h){var v=s.firstgid+l[y],m=!0,p=!1,d=void 0;try{for(var g,x=c[Symbol.iterator]();!(m=(g=x.next()).done);m=!0){var b=g.value;this.tilemap.getTile(b.x,b.y,b.layer,!0).index=v}}catch(t){p=!0,d=t}finally{try{!m&&x.return&&x.return()}finally{if(p)throw d}}u.currentFrame=y,e=!0}}}catch(t){r=!0,i=t}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}if(e){var w=!0,N=!1,k=void 0;try{for(var I,P=this.tilemap.layers[Symbol.iterator]();!(w=(I=P.next()).done);w=!0){I.value.dirty=!0}}catch(t){N=!0,k=t}finally{try{!w&&P.return&&P.return()}finally{if(N)throw k}}}}function u(t){var e=[],n=!0,r=!1,i=void 0;try{for(var a,o=this.tilemapJson.layers[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;if("tilelayer"===u.type)for(var l=u.data,f=u.width,s=u.height,c=0;c<s;c++)for(var h=0;h<f;h++)l[c*f+h]===t&&e.push({x:h,y:c,layer:u.name})}}catch(t){r=!0,i=t}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return e}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=function(){function t(e,n,i){r(this,t),this.tilemapJson=e,this.time=n,this.tilemap=i,this.timer=null,this.tileAnimations=[],this.game=n.game}return l(t,[{key:"enable",value:function(){var t=this;if(null==this.timer){var e=!0,n=!1,r=void 0;try{for(var a,u=this.tilemapJson.tilesets[Symbol.iterator]();!(e=(a=u.next()).done);e=!0){var l=a.value;l.tiles&&i.bind(this)(l)}}catch(t){n=!0,r=t}finally{try{!e&&u.return&&u.return()}finally{if(n)throw r}}this.timer=this.time.events.loop(20,function(){return o.bind(t)()})}}},{key:"disable",value:function(){null!=this.timer&&(this.time.events.remove(this.timer),this.timer=null,this.tileAnimations=[])}}]),t}();e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),u=r(o),l=n(6),f=r(l),s=n(1),c=r(s),h=function(){function t(e){i(this,t),this.tilemapJson=e,this.shapes=[]}return a(t,[{key:"enableObjectLayer",value:function(t){var e=this.tilemapJson.layers.find(function(e){return"objectgroup"===e.type&&e.name===t});if(!e)throw new Error('No object layer found with name "'+t+'"');this.shapes=[];var n=!0,r=!1,i=void 0;try{for(var a,o=e.objects[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;u.polygon?this.addPolygon(u):u.polyline||u.ellipse||u.gid||u.text||this.addRectangle(u)}}catch(t){r=!0,i=t}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}},{key:"collideWith",value:function(t){var e=t.body,n=t.game.physics.arcade.gravity,r=new u.default(n.x,n.y),i=r.normalized(),a=new u.default(e.velocity.x,e.velocity.y);e.contactNormal||(e.contactNormal=new u.default),e.contactNormal.x=e.contactNormal.y=0;var o=!0,l=!1,f=void 0;try{for(var s,c=this.shapes[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var h=s.value,y=h.collideWidth(e);if(y){var v=y.penetration,m=y.normal;e.contactNormal=e.contactNormal.plus(m),e.x-=v.x,e.y-=v.y,e.x+=m.x,e.y+=m.y;var p=a.dot(m);if(p>=0)continue;var d=m.scale(p),g=a.minus(d),x=void 0,b=h.properties&&h.properties.bounce;x=b&&v.length()>2?d.scale(-b):new u.default;var w=g,N=x.plus(w);e.velocity.x=N.x,e.velocity.y=N.y,m.dot(r)<0&&(e.x-=i.x,e.y-=i.y)}}}catch(t){l=!0,f=t}finally{try{!o&&c.return&&c.return()}finally{if(l)throw f}}e.contactNormal=e.contactNormal.normalized()}},{key:"addRectangle",value:function(t){var e=t.width,n=t.height,r=new u.default(e,0),i=new u.default(0,n),a=-t.rotation*Math.PI/180;a&&(r=r.rotated(a),i=i.rotated(a));var o={x:t.x,y:t.y,width:t.width,height:t.height,polygon:[{x:0,y:0},r,r.plus(i),i],properties:t.properties};this.addPolygon(o)}},{key:"addPolygon",value:function(t){var e=t.polygon.map(function(e){return new u.default(t.x+e.x,t.y+e.y)}),n=f.default.generateConvexPolygons(e),r=!0,i=!1,a=void 0;try{for(var o,l=n[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var s=o.value;this.addConvexPolygon(s,t.properties)}}catch(t){i=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}}},{key:"addConvexPolygon",value:function(t,e){var n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY,o=!0,l=!1,s=void 0;try{for(var h,y=t.vertices[Symbol.iterator]();!(o=(h=y.next()).done);o=!0){var v=h.value;n=Math.min(n,v.x),r=Math.min(n,v.y),i=Math.max(n,v.x),a=Math.max(n,v.y)}}catch(t){l=!0,s=t}finally{try{!o&&y.return&&y.return()}finally{if(l)throw s}}var m={type:"polygon",left:n,top:r,right:i,bottom:a,polygon:t,properties:e,collideWidth:function(t){var e=t.x,n=t.x+t.width,r=t.y,i=t.y+t.height,a=[new u.default(1,0),new u.default(0,1)].concat(this.polygon.normals),o=f.default.fromRectangle(e,r,n,i),l=Number.POSITIVE_INFINITY,s=void 0,h=!0,y=!1,v=void 0;try{for(var m,p=a[Symbol.iterator]();!(h=(m=p.next()).done);h=!0){var d=m.value,g=this.polygon.projectOntoAxis(d),x=o.projectOntoAxis(d);if(c.default.intersection(g,x).isEmpty())return null;var b=Math.min(Math.abs(g.max-x.min),Math.abs(x.max-g.min));l>b&&(l=b,s=d)}}catch(t){y=!0,v=t}finally{try{!h&&p.return&&p.return()}finally{if(y)throw v}}return o.centre.minus(this.polygon.centre).dot(s)<0&&(s=s.scale(-1)),{penetration:s.scale(-l),normal:s}}};this.shapes.push(m)}}]),t}();e.default=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(7),l=r(u),f=n(0),s=r(f),c=n(8),h=r(c),y=n(1),v=r(y),m=function(t){return t.reduce(function(t,e){return t+e},0)/t.length},p=function(t,e,n,r){if(t>n)throw new Error("Right must be greater than Left");if(e>r)throw new Error("Bottom must be greater than Top")},d=function(){function t(e){a(this,t),this.vertices=e,this.recompute()}return o(t,[{key:"recompute",value:function(){var t=this.vertices;if(this.aabb=h.default.fromPoints(t),this.edges=[],this.normals=[],this.count=t.length,this.centre=new s.default(m(t.map(function(t){return t.x})),m(t.map(function(t){return t.y}))),this.count>1)for(var e=0;e<this.count;e++){var n=(e+1)%this.count,r=t[n].minus(t[e]);this.edges.push(r);var i=r.normalized().perpendicular(),a=t[e].minus(this.centre);a.dot(i)<0&&(i=i.scale(-1)),this.normals.push(i)}}},{key:"isValid",value:function(){if(this.count<4)return!0;for(var t=0,e=0;e<this.count;e++){var n=(e+1)%this.count,r=this.edges[e].perpDot(this.edges[n]);if(r*t<0)return!1;t=r}return!0}},{key:"projectOntoAxis",value:function(t){var e=new v.default,n=!0,r=!1,i=void 0;try{for(var a,o=this.vertices[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value,l=u.dot(t);e.extendTo(l)}}catch(t){r=!0,i=t}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return e}},{key:"rotated",value:function(e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=this.vertices[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var l=o.value,f=new s.default(l.x,l.y).minus(this.centre),c=f.rotated(e),h=this.centre.plus(c);n.push(h)}}catch(t){i=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return new t(n)}}],[{key:"fromRectangle",value:function(e,n,r,i){return p(e,n,r,i),new t([new s.default(e,n),new s.default(r,n),new s.default(r,i),new s.default(e,i)])}},{key:"fromCapsule",value:function(e,n,r,a,o){if(o<3)throw new Error("Specify at least 3 cap segments");p(e,n,r,a);var u=r-e;if(a-n<u)throw new Error("Capsule height must be larger than width");var l=.5*u,f=[].concat(i(Array(o).keys())).map(function(t){return-t*Math.PI/o}),c=.5*(e+r),h=f.map(function(t){return new s.default(Math.cos(t),Math.sin(t)).scale(l)}),y=new s.default(c,n+l),v=h.map(function(t){return y.plus(t)});v.push(new s.default(e,y.y));var m=new s.default(c,a-l);return v=v.concat(h.map(function(t){return m.minus(t)})),v.push(new s.default(r,m.y)),new t(v)}},{key:"generateConvexPolygons",value:function(e){var n=e.map(function(t){return[t.x,t.y]});return l.default.decomp(n).map(function(e){return new t(e.map(function(t){return new s.default(t[0],t[1])}))})}}]),t}();e.default=d},function(t,e){function n(t,e,n){n=n||0;var r,i,a,o,u,l,f,s=[0,0];return r=t[1][1]-t[0][1],i=t[0][0]-t[1][0],a=r*t[0][0]+i*t[0][1],o=e[1][1]-e[0][1],u=e[0][0]-e[1][0],l=o*e[0][0]+u*e[0][1],f=r*u-o*i,M(f,0,n)||(s[0]=(u*a-i*l)/f,s[1]=(r*l-o*a)/f),s}function r(t,e,n,r){var i=e[0]-t[0],a=e[1]-t[1],o=r[0]-n[0],u=r[1]-n[1];if(o*a-u*i==0)return!1;var l=(i*(n[1]-t[1])+a*(t[0]-n[0]))/(o*a-u*i),f=(o*(t[1]-n[1])+u*(n[0]-t[0]))/(u*i-o*a);return l>=0&&l<=1&&f>=0&&f<=1}function i(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function a(t,e,n){return i(t,e,n)>0}function o(t,e,n){return i(t,e,n)>=0}function u(t,e,n){return i(t,e,n)<0}function l(t,e,n){return i(t,e,n)<=0}function f(t,e,n,r){if(r){var a=_,o=E;a[0]=e[0]-t[0],a[1]=e[1]-t[1],o[0]=n[0]-e[0],o[1]=n[1]-e[1];var u=a[0]*o[0]+a[1]*o[1],l=Math.sqrt(a[0]*a[0]+a[1]*a[1]),f=Math.sqrt(o[0]*o[0]+o[1]*o[1]);return Math.acos(u/(l*f))<r}return 0===i(t,e,n)}function s(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function c(t,e){var n=t.length;return t[e<0?e%n+n:e%n]}function h(t){t.length=0}function y(t,e,n,r){for(var i=n;i<r;i++)t.push(e[i])}function v(t){for(var e=0,n=t,r=1;r<t.length;++r)(n[r][1]<n[e][1]||n[r][1]===n[e][1]&&n[r][0]>n[e][0])&&(e=r);a(c(t,e-1),c(t,e),c(t,e+1))||m(t)}function m(t){for(var e=[],n=t.length,r=0;r!==n;r++)e.push(t.pop());for(var r=0;r!==n;r++)t[r]=e[r]}function p(t,e){return u(c(t,e-1),c(t,e),c(t,e+1))}function d(t,e,r){var i,a,u=T,f=O;if(o(c(t,e+1),c(t,e),c(t,r))&&l(c(t,e-1),c(t,e),c(t,r)))return!1;a=s(c(t,e),c(t,r));for(var h=0;h!==t.length;++h)if((h+1)%t.length!==e&&h!==e&&o(c(t,e),c(t,r),c(t,h+1))&&l(c(t,e),c(t,r),c(t,h))&&(u[0]=c(t,e),u[1]=c(t,r),f[0]=c(t,h),f[1]=c(t,h+1),i=n(u,f),s(c(t,e),i)<a))return!1;return!0}function g(t,e,n,r){var i=r||[];if(h(i),e<n)for(var a=e;a<=n;a++)i.push(t[a]);else{for(var a=0;a<=n;a++)i.push(t[a]);for(var a=e;a<t.length;a++)i.push(t[a])}return i}function x(t){for(var e=[],n=[],r=[],i=[],a=Number.MAX_VALUE,o=0;o<t.length;++o)if(p(t,o))for(var u=0;u<t.length;++u)if(d(t,o,u)){n=x(g(t,o,u,i)),r=x(g(t,u,o,i));for(var l=0;l<r.length;l++)n.push(r[l]);n.length<a&&(e=n,a=n.length,e.push([c(t,o),c(t,u)]))}return e}function b(t){var e=x(t);return e.length>0?w(t,e):[t]}function w(t,e){if(0===e.length)return[t];if(e instanceof Array&&e.length&&e[0]instanceof Array&&2===e[0].length&&e[0][0]instanceof Array){for(var n=[t],r=0;r<e.length;r++)for(var i=e[r],a=0;a<n.length;a++){var o=n[a],u=w(o,i);if(u){n.splice(a,1),n.push(u[0],u[1]);break}}return n}var i=e,r=t.indexOf(i[0]),a=t.indexOf(i[1]);return-1!==r&&-1!==a&&[g(t,r,a),g(t,a,r)]}function N(t){var e,n=t;for(e=0;e<n.length-1;e++)for(var i=0;i<e-1;i++)if(r(n[e],n[e+1],n[i],n[i+1]))return!1;for(e=1;e<n.length-2;e++)if(r(n[0],n[n.length-1],n[e],n[e+1]))return!1;return!0}function k(t,e,n,r,i){i=i||0;var a=e[1]-t[1],o=t[0]-e[0],u=a*t[0]+o*t[1],l=r[1]-n[1],f=n[0]-r[0],s=l*n[0]+f*n[1],c=a*f-l*o;return M(c,0,i)?[0,0]:[(f*u-o*s)/c,(a*s-l*u)/c]}function I(t,e,n,r,i,f,h){f=f||100,h=h||0,i=i||25,e=void 0!==e?e:[],n=n||[],r=r||[];var v=[0,0],m=[0,0],d=[0,0],g=0,x=0,b=0,w=0,N=0,P=0,M=0,_=[],E=[],T=t,O=t;if(O.length<3)return e;if(++h>f)return console.warn("quickDecomp: max level ("+f+") reached."),e;for(var A=0;A<t.length;++A)if(p(T,A)){n.push(T[A]),g=x=Number.MAX_VALUE;for(var j=0;j<t.length;++j)a(c(T,A-1),c(T,A),c(T,j))&&l(c(T,A-1),c(T,A),c(T,j-1))&&(d=k(c(T,A-1),c(T,A),c(T,j),c(T,j-1)),u(c(T,A+1),c(T,A),d)&&(b=s(T[A],d))<x&&(x=b,m=d,P=j)),a(c(T,A+1),c(T,A),c(T,j+1))&&l(c(T,A+1),c(T,A),c(T,j))&&(d=k(c(T,A+1),c(T,A),c(T,j),c(T,j+1)),a(c(T,A-1),c(T,A),d)&&(b=s(T[A],d))<g&&(g=b,v=d,N=j));if(P===(N+1)%t.length)d[0]=(m[0]+v[0])/2,d[1]=(m[1]+v[1])/2,r.push(d),A<N?(y(_,T,A,N+1),_.push(d),E.push(d),0!==P&&y(E,T,P,T.length),y(E,T,0,A+1)):(0!==A&&y(_,T,A,T.length),y(_,T,0,N+1),_.push(d),E.push(d),y(E,T,P,A+1));else{if(P>N&&(N+=t.length),w=Number.MAX_VALUE,N<P)return e;for(var j=P;j<=N;++j)o(c(T,A-1),c(T,A),c(T,j))&&l(c(T,A+1),c(T,A),c(T,j))&&(b=s(c(T,A),c(T,j)))<w&&(w=b,M=j%t.length);A<M?(y(_,T,A,M+1),0!==M&&y(E,T,M,O.length),y(E,T,0,A+1)):(0!==A&&y(_,T,A,O.length),y(_,T,0,M+1),y(E,T,M,A+1))}return _.length<E.length?(I(_,e,n,r,i,f,h),I(E,e,n,r,i,f,h)):(I(E,e,n,r,i,f,h),I(_,e,n,r,i,f,h)),e}return e.push(t),e}function P(t,e){for(var n=0,r=t.length-1;t.length>3&&r>=0;--r)f(c(t,r-1),c(t,r),c(t,r+1),e)&&(t.splice(r%t.length,1),n++);return n}function M(t,e,n){return n=n||0,Math.abs(t-e)<n}t.exports={decomp:b,quickDecomp:I,isSimple:N,removeCollinearPoints:P,makeCCW:v};var _=[],E=[],T=[],O=[]},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n,r,a){i(this,t),this.left=void 0===e?Number.POSITIVE_INFINITY:e,this.right=void 0===r?Number.NEGATIVE_INFINITY:r,this.top=void 0===n?Number.POSITIVE_INFINITY:n,this.bottom=void 0===a?Number.NEGATIVE_INFINITY:a}return a(t,[{key:"isEmpty",value:function(){return this.left>this.right||this.top>this.bottom}},{key:"width",value:function(){var t=this.right-this.left;return t>=0?t:NaN}},{key:"height",value:function(){var t=this.bottom-this.top;return t>=0?t:NaN}},{key:"containsPoint",value:function(t){return this.left<=t.x&&t.x<=this.right&&this.top<=t.y&&t.y<=this.bottom}},{key:"containsPoints",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,a=t[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value;if(!this.containsPoint(o))return!1}}catch(t){n=!0,r=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw r}}return!0}},{key:"intersects",value:function(t){}}],[{key:"fromPoints",value:function(e){var n=void 0,i=void 0,a=void 0,o=void 0;return Array.isArray(e)?(n=Math.min.apply(Math,r(e.map(function(t){return t.x}))),i=Math.min.apply(Math,r(e.map(function(t){return t.y}))),a=Math.max.apply(Math,r(e.map(function(t){return t.x}))),o=Math.max.apply(Math,r(e.map(function(t){return t.y})))):(n=e.x,i=e.y,a=e.x,o=e.y),new t(n,i,a,o)}}]),t}();e.default=o}]);